<!DOCTYPE html> <html lang="ch"> <head> <meta charset="utf-8"> <meta http-equiv="content-type" content="text/html; charset=utf-8"> <meta http-equiv="pragma" content="no-cache"> <meta http-equiv="Cache-Control" content="no-cache, must-revalidate"> <meta http-equiv="expires" content="0"> <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"> <meta name="apple-mobile-web-app-capable" content="yes"> <meta name="apple-touch-fullscreen" content="yes"> <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"> <meta name="format-detection" content="telephone=no"> <meta name="keywords" content="bxn"> <meta name="description" content="我为最爱的人奉上了 求婚之舞，快来见证我们的幸福时刻吧！"> <title>奉舞成婚</title> </head> <body>   <script type="text/javascript">var G=G||{DOMAIN:document.domain,ORIGIN:"http://h5.createcdigital.com",CGI_ORIGIN:"http://h5.createcdigital.com",CDN_ORIGIN:"http://7xijzi.com2.z0.glb.qiniucdn.com",CDN_CONTEXT:"static",MD5_MAP:{"lib/app/main.js":"52bd4e55","lib/async/main.js":"43cb77cb","lib/exif/main.js":"bad1c202","lib/fabric/main.js":"7b6e0fe5","lib/hammer/main.js":"8d12301d","lib/iscroll/main.js":"3ecdcf19","lib/jquery-2.1.3/main.js":"eeda0bd3","lib/mega-pix-image/main.js":"8ca51f59","lib/parallax/main.js":"62ca8bc6","lib/riot/main.js":"9bd7353b","lib/skateboard/main.js":"193931f5","lib/turn/main.js":"2e32173b","lib/zepto-1.1.4/main.js":"f57b9bab"},IS_PROTOTYPE:!1,pageTime:[new Date]};G.CDN_BASE=G.CDN_CONTEXT?G.CDN_ORIGIN+"/"+G.CDN_CONTEXT:G.CDN_ORIGIN,G.id=function(i){return document.getElementById(i)},G.DOMAIN&&G.DOMAIN!=document.domain&&(document.domain=G.DOMAIN),function(){for(var i=["CGI_ORIGIN","CDN_ORIGIN"],a=0;a<i.length;a++)0===G[i[a]].indexOf("//")&&(G[i[a]]=location.protocol+G[i[a]]);if("file:"==location.protocol){var n=location.href.match(/^(.+)\/static\//);n&&(G.ORIGIN=G.CDN_ORIGIN=G.CGI_ORIGIN=n[1])}}();</script><script type="text/javascript">document.write(['<link rel="stylesheet" href="'+G.CDN_BASE+'/style/app/main.css?v=e7ee7d58" />'].join(""));</script><div id="circleG" class="circleG_wrapper"> <div class="circleG circleG_1"></div> <div class="circleG circleG_2"></div> <div class="circleG circleG_3"></div> </div> <script type="text/javascript">document.write(['<script type="text/javascript" src="'+G.CDN_BASE+'/script/lib/fastclick/fastclick.js?v=2a75dd5a"></s',"cript>",'<script type="text/javascript" src="'+G.CDN_BASE+'/script/lib/yom/require-lite.js?v=a100bd46"></s',"cript>"].join(""));</script><script type="text/javascript">FastClick.attach(document.body),window.addEventListener("load",function(){document.body.className=document.body.className+" loaded"},!1),require(["jquery"],function(e){var t=null;G.state=e.extend(e({}),{set:function(e){if("object"==typeof e&&e){if(t)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);else t=e;G.state.trigger("change",e)}},get:function(e){return e?t&&t[e]:t}})});</script><script type="text/javascript">document.write(['<link rel="stylesheet" href="'+G.CDN_BASE+'/app/bxn-201502/style/main.css?v=24833550" />','<link rel="stylesheet" href="'+G.CDN_BASE+'/app/bxn-201502/style/share-main.css?v=97c55fe1" />'].join(""));</script><div class="page-wrapper share-container"> <div class="share-bg share-bg-finish"> <canvas id="action_canvas" width="600" height="1067"> Your browser not support canvas </canvas> <button id="btn-play"></button> <div class="group-share-finish-default" style="display:none"> <div id="btn-finish-share" style="float:left;width:33%;height:45%"></div> <div id="btn-finish-again" style="float:left;width:33%;height:45%"></div> <div id="btn-finish-custom" style="float:left;width:33%;height:45%"></div> <div id="btn-finish-suprise" style="float:left;width:100%;height:55%"></div> </div> <div id="btn-finish-want-play" class="group-share-finish-timeline" style="display:none"> </div> <div id="dialog-share" class="modal modal-share" style="display:none"> <div class="btn-modal-close" onclick="document.getElementById(&quot;dialog-share&quot;).style.display=&quot;none&quot;"></div> </div> <div id="dialog-suprise" class="modal modal-suprise" style="display:none"> <script type="text/javascript">document.write(['<img class="qrcode" src="'+G.CDN_ORIGIN+'/static/app/bxn-201502/image/qrcode.jpg?" >'].join(""));</script><div class="btn-modal-close" onclick="document.getElementById(&quot;dialog-suprise&quot;).style.display=&quot;none&quot;"></div> </div> <div style="display:none"> > </div>  <div id="action_image" style="display:none"> <div id="btn-finish-share" style="positon:absolute"></div> </div> </div> <audio id="audio1"></audio> <script type="text/javascript">document.write(['<img id="action_start" src="'+G.CDN_ORIGIN+'/static/app/bxn-201502/image/action_start_btn.png?"'].join(""));</script></div><script type="text/javascript">require(["jquery"],function(w){var e=w(".page-wrapper");ww=w(window).width(),e.height(1208*ww/750)},function(){});</script><script type="text/javascript">(function(){require(["jquery","app"],function(t,e){var n,i,r,a,o,c,s,l,u,g,h,p,f,_,d,m,I,w,b,N,x,O,C,R,v,D,y,k,j,T,E,q;return E={},E.blue=[G.CDN_ORIGIN+"/static/app/bxn-201502/image/action_blue_straight.png",G.CDN_ORIGIN+"/static/app/bxn-201502/image/action_blue_lower_left.png",G.CDN_ORIGIN+"/static/app/bxn-201502/image/action_blue_mid_left.png",G.CDN_ORIGIN+"/static/app/bxn-201502/image/action_blue_top_left.png",G.CDN_ORIGIN+"/static/app/bxn-201502/image/action_blue_lower_right.png",G.CDN_ORIGIN+"/static/app/bxn-201502/image/action_blue_mid_right.png",G.CDN_ORIGIN+"/static/app/bxn-201502/image/action_blue_top_right.png"],E.red=[G.CDN_ORIGIN+"/static/app/bxn-201502/image/action_red_straight.png",G.CDN_ORIGIN+"/static/app/bxn-201502/image/action_red_lower_left.png",G.CDN_ORIGIN+"/static/app/bxn-201502/image/action_red_mid_left.png",G.CDN_ORIGIN+"/static/app/bxn-201502/image/action_red_top_left.png",G.CDN_ORIGIN+"/static/app/bxn-201502/image/action_red_lower_right.png",G.CDN_ORIGIN+"/static/app/bxn-201502/image/action_red_mid_right.png",G.CDN_ORIGIN+"/static/app/bxn-201502/image/action_red_top_right.png"],h=G.CDN_ORIGIN+"/static/app/bxn-201502/image/bg_dance.mp3",p=t("#action_canvas")[0],_=p.getContext("2d"),s=null,a=600,r=1067,u=new Image,g="straight",i=102,n=113,f="black",k=[],T=[4e3,4500,5e3,5500,5800,6100,6600,7300,7800,8300,9e3,9500],C=!1,j=0,e.ajax.showLoading(),R=0,v=8,O=function(t){return function(){return R+=1,v>R?e.ajax.showLoading():(e.ajax.hideLoading(),b())}}(this),o={},o.straight=new Image,o.top_left=new Image,o.mid_left=new Image,o.lower_left=new Image,o.top_right=new Image,o.mid_right=new Image,o.lower_right=new Image,l=t("#audio1")[0],l.onloadeddata=O,u.onload=O,o.straight.onload=O,o.top_left.onload=O,o.mid_left.onload=O,o.lower_left.onload=O,o.top_right.onload=O,o.mid_right.onload=O,o.lower_right.onload=O,o.start=t("#action_start")[0],c={straight:{top:.093,left:.405,deg:0},top_left:{top:.12,left:.362,deg:-5},mid_left:{top:.27,left:-.32,deg:-45},lower_left:{top:.315,left:-.305,deg:-45},top_right:{top:.12,left:.395,deg:-5},mid_right:{top:-.01,left:.775,deg:30},lower_right:{top:-.071,left:.895,deg:45}},I=function(t){return function(){return _.save(),_.drawImage(s,0,0,a,r),_.restore()}}(this),w=function(t){return function(){var t,e,o,s,l,h;return h=c[g],t=h.deg,s=a*h.left,l=r*h.top,o=i,e=n,_.save(),_.rotate(t*Math.PI/180),_.drawImage(u,0,0,u.width,u.height,s,l,o,e),_.restore()}}(this),N=function(t){return function(){return _.save(),_.fillRect(0,0,t.CONTEXT_W,t.CONTEXT_H),_.drawImage(o.start,0,0,a,r),_.restore()}}(this),m=function(t){return function(){return _.clearRect(0,0,a,r),w(),I()}}(this),b=function(t){return function(){return s=o.straight,g="straight",m(),_.save("draw action.start"),_.drawImage(o.start,0,0,a,r),_.restore()}}(this),y=function(t){return function(){var t,n,i,r,a,c;return l.pause(),l.currentTime=0,l.play(),t=0,s=o.straight,g="straight",m(),i=e.util.cloneObject(k,1),r=e.util.cloneObject(T,1),i[i.length]=i[i.length-1],r[r.length]=1e4,a=i.shift(),c=r.shift(),n=function(){return g=a,s=o[a],m(),t=c,a=i.shift(),c=r.shift(),c?setTimeout(function(){return n()},c-t):(b(),C=!1,l.pause(),j+=1,j%2!==0?y():void 0)},setTimeout(function(){return n()},c-t)}}(this),D=function(t){var e,n;return e=document.createElement("a"),e.href=t,n=function(t){var e,n,i,r,a;if(!t)return{};for(r={},t=t.slice(1).split("&"),n=0,e=void 0;n<t.length;)e=t[n].split("="),i=e[0],a=e[1],/\[\]$/.test(i)?(r[i]=r[i]||[],r[i].push(a)):r[i]=a,n++;return r},{protocol:e.protocol,host:e.host,hostname:e.hostname,pathname:e.pathname,search:n(e.search),hash:e.hash}},N(),q=D(window.location),d=q.search.designId,x=q.search.from,x?(t(".group-share-finish-timeline").show(),t(".group-share-finish-default").hide()):(t(".group-share-finish-timeline").hide(),t(".group-share-finish-default").show()),e.ajax.get({url:"web/bxn/design/"+d,success:function(t){var n;return 0===t.code?(u.src=G.CDN_ORIGIN+"/"+t.data.relativePath,n=t.data.color,k=t.data.sequence,l.src=h,l.load(),o.straight.src=E[n][0],o.lower_left.src=E[n][1],o.mid_left.src=E[n][2],o.top_left.src=E[n][3],o.lower_right.src=E[n][4],o.mid_right.src=E[n][5],o.top_right.src=E[n][6]):e.alerts.alert("该视频不存在","info",1500)},error:function(){return e.alerts.alert("系统繁忙，请您稍后重试。","info",1500)}}),t("#btn-play").on("click",function(t){return function(){return v>R?void e.alerts.alert("加载中,请稍等","info",1500):C?void e.alerts.alert("正在播放","info",1e3):(C=!0,y())}}(this)),t("#btn-finish-share").on("click",function(t){return function(){return document.getElementById("dialog-share").style.display="block"}}(this)),t("#btn-finish-again").on("click",function(t){return function(){return window.location="index.html"}}(this)),t("#btn-finish-custom").on("click",function(t){return function(){return window.location="http://www.baoxiniao.com.cn"}}(this)),t("#btn-finish-suprise").on("click",function(t){return function(){return document.getElementById("dialog-suprise").style.display="block"}}(this)),t("#btn-finish-want-play").on("click",function(t){return function(){return window.location="index.html"}}(this))})}).call(this);</script><script type="text/javascript">require(["jquery","http://res.wx.qq.com/open/js/jweixin-1.0.0.js","app"],function(e,n,i){var a=function(){i.ajax.post({url:"web/sharing/increaseSharingFriends/54f308fbd4c6505329ee48e7",success:function(e){},error:function(e,n,i){}})},t=function(){i.ajax.post({url:"web/sharing/increaseSharingMoments/54f308fbd4c6505329ee48e7",success:function(e){},error:function(e,n,i){}})},c=location.href.split("#")[0];e(document).ready(function(){i.ajax.post({url:"web/bxn/weixin/signature",data:{url:c},timeout:5e3,error:function(){},success:function(e){n.config({debug:!1,appId:e.data.appId,timestamp:e.data.timestamp,nonceStr:e.data.nonceStr,signature:e.data.signature,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo"]}),n.ready(function(){n.onMenuShareTimeline({title:"我为最爱的人奉上了 求婚之舞，快来见证我们的幸福时刻吧！",link:c,imgUrl:G.CDN_ORIGIN+"/static/app/bxn-201502/image/icon_share.jpg",success:function(){t()},cancel:function(){}}),n.onMenuShareAppMessage({title:"奉舞成婚",desc:"我为最爱的人奉上了 求婚之舞，快来见证我们的幸福时刻吧！",link:c,imgUrl:G.CDN_ORIGIN+"/static/app/bxn-201502/image/icon_share.jpg",type:"",dataUrl:"",success:function(){a()},cancel:function(){}})})}})})});</script></body></html>